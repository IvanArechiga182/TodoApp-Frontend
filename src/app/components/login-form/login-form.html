<div class="formContainer">
  <form role="form" [formGroup]="loginForm" (submit)="LogIn()">
    <h2 class="secondary">Welcome</h2>
    @if(errorMessage() != ''){
    <div class="error-message">
      <p>{{ errorMessage() }}</p>
    </div>
    } @if(loading()){
    <div class="loading">
      <p>{{ successMessage() + ' redirecting...' }}</p>
    </div>
    }
    <br />
    <label for="username">
      Username <br />
      <input
        type="text"
        name="username"
        id="username"
        formControlName="username"
        [ngClass]="getErrorClass('username')"
      />
    </label>
    @if(getErrorClass('username')) {
    <div class="error">
      @if(loginForm.get('username')?.errors?.['required']) {
      <p>Username is required.</p>
      }
    </div>
    }
    <label for="password">
      Password <br />
      <input
        type="password"
        name="password"
        id="password"
        formControlName="password"
        [ngClass]="getErrorClass('password')"
      />
    </label>
    @if(getErrorClass('password')) {
    <div class="error">
      @if(loginForm.get('password')?.errors?.['required']) {
      <p>Password is required.</p>
      }
    </div>
    }
    <button type="submit" role="button">Log In</button>
    <p>Don't have an account yet? <a routerLink="/register">Sign Up</a></p>
  </form>
</div>
